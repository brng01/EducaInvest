<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Duration Checker</title>
</head>
<body>
    <h1>Checking Audio Durations...</h1>
    <div id="results"></div>

    <script>
        const audioFiles = [
            '/audios/Aula-1.mp3',
            '/audios/Aula-2.mp3',
            '/audios/Aula-3.mp3'
        ];

        const resultsDiv = document.getElementById('results');

        async function checkDuration(src) {
            return new Promise((resolve) => {
                const audio = new Audio(src);
                audio.addEventListener('loadedmetadata', () => {
                    const duration = audio.duration;
                    const minutes = Math.floor(duration / 60);
                    const seconds = Math.floor(duration % 60);
                    const formatted = `${minutes}:${seconds.toString().padStart(2, '0')}`;
                    
                    const p = document.createElement('p');
                    p.textContent = `${src}: ${formatted} (${duration.toFixed(2)}s)`;
                    resultsDiv.appendChild(p);
                    console.log(`DURATION: ${src} = ${formatted}`);
                    resolve();
                });
                audio.addEventListener('error', () => {
                    const p = document.createElement('p');
                    p.textContent = `${src}: ERROR`;
                    p.style.color = 'red';
                    resultsDiv.appendChild(p);
                    console.log(`DURATION: ${src} = ERROR`);
                    resolve();
                });
            });
        }

        async function checkAll() {
            for (const src of audioFiles) {
                await checkDuration(src);
            }
            const done = document.createElement('div');
            done.id = 'done';
            done.textContent = 'DONE';
            document.body.appendChild(done);
        }

        checkAll();
    </script>
</body>
</html>
